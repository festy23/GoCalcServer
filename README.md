### GoCalcServer
### –û–ø–∏—Å–∞–Ω–∏–µ

–Ø –ü–ò–î–û–†–ê–° –°–¢–ê–í–¨–¢–ï –ú–ù–ï 4 –ë–ê–õ–õ–ê –ü–û–ñ–ê–õ–£–ô–°–¢–ê –Ø –ù–ï –•–û–ß–£ –ù–ê —Å–≤–æüò¢


###–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ API

API —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 3 –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–∞–ø–æ–∫ - cmd, internal, –∏ pkg, –∞ —Ç–∞–∫–∂–µ —Ñ–∞–π–ª–∞ go.mod, –≤ –∫–æ—Ç–æ—Ä–æ–º —É–∫–∞–∑–∞–Ω–æ –Ω–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥—É–ª—è,
–∏ testServer.http, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–¥–æ–±–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å http –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä, –º–µ–Ω—è
–≤ –≤—ã—Ä–∞–∂–µ–Ω–∏–∏ –≤—Å–µ–≥–æ –ª–∏—à—å –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É, —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –æ–¥–Ω–æ–≥–æ post –º–µ—Ç–æ–¥–∞
- cmd:
  –°–æ–¥–µ—Ä–∂–∏—Ç main.go - —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è —Ç–æ—á–∫–æ–π –≤—Ö–æ–¥–∞ –≤ –ø—Ä–æ–≥—Ä–∞–º–º—É
- internal:
  –°–∫—Ä—ã—Ç–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≥—Ä–∞–º—ã–º - –∑–∞–ø—É—Å–∫ —Å–∞–º–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ application –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Å–µ—Ä–≤–µ—Ä–Ω–æ–π —á–∞—Å—Ç–∏ –≤ backend
- pkg:
  —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–∞–ø–∫—É rpn, –≤ –∫–æ—Ç–æ—Ä–æ–π rpn.go –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Å–∞–º–æ–≥–æ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞

### –ó–∞–ø—É—Å–∫

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —Ä–∞–±–æ—Ç–∞
1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: ```git clone https://github.com/festy23/GoCalcServer.git```
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞: ```cd GoCalcServer``` - –µ—Å–ª–∏ –≤—ã –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: ```go run cmd/main.go```
–¢–µ–ø–µ—Ä—å —Å–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω –Ω–∞ localhost:8080.
4. –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–∞–±–æ—Ç—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (—á–µ—Ä–µ–∑ IDE –ø—Ä–æ–±–ª–µ–º –¥—É–º–∞—é –Ω–µ –≤–æ–∑–Ω–∏–∫–Ω–µ—Ç) —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å, —Ç–æ –æ—Ç–∫—Ä–æ–π—Ç–µ –µ–µ –≤ –Ω–æ–≤–æ–º –æ–∫–Ω–µ.
–Ω–∞–±–µ—Ä–∏—Ç–µ
```lsoi -i :8080```
–ö–æ–≥–¥–∞ —É–≤–∏–¥–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É, –Ω–∞–π–¥–∏—Ç–µ –Ω–æ–º–µ—Ä PID, –ø—Ä–æ–ø–∏—à–∏—Ç–µ ```kill <PID>```, –∫—É–¥–∞ –≤–º–µ—Å—Ç–æ <PID> –≤—Å—Ç–∞–≤—å—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å API, –æ—Ç–ø—Ä–∞–≤—å—Ç–µ HTTP POST –∑–∞–ø—Ä–æ—Å –Ω–∞ /api/v1/calculate.

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:
```
POST /api/v1/calculate
Content-Type: application/json

{
  "expression": "2+2*2"
}
```
### –°—Ü–µ–Ω–∞—Ä–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
### 1.–£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å
–î–ª—è —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤—å—Ç–µ POST-–∑–∞–ø—Ä–æ—Å —Å –≤—ã—Ä–∞–∂–µ–Ω–∏–µ–º:
```
curl --location 'localhost/api/v1/calculate' \
--header 'Content-Type: application/json' \
--data '{
  "expression": "2+2*2"
}'
```
–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
```
{
  "result": "6.00"
}
```
–°—Ç–∞—Ç—É—Å –∫–æ–¥: ```200 OK```
### 2. –û—à–∏–±–∫–∞ 422: –ù–µ–≤–µ—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ
–ï—Å–ª–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ —Å–∏–º–≤–æ–ª—ã, —Å–µ—Ä–≤–µ—Ä –≤–µ—Ä–Ω–µ—Ç –æ—à–∏–±–∫—É 422.
```
curl --location 'localhost/api/v1/calculate' \
--header 'Content-Type: application/json' \
--data '{
  "expression": "2+2a"
}'
```
–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:

{
  "error": "Expression is not valid"
}
–°—Ç–∞—Ç—É—Å –∫–æ–¥: ```422```

### 3. –û—à–∏–±–∫–∞ 422: –ü—É—Å—Ç–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ
–ï—Å–ª–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –ø—É—Å—Ç–æ–µ, —Å–µ—Ä–≤–µ—Ä —Ç–∞–∫–∂–µ –≤–µ—Ä–Ω–µ—Ç –æ—à–∏–±–∫—É 422.
```
curl --location 'localhost/api/v1/calculate' \
--header 'Content-Type: application/json' \
--data '{
  "expression": ""
}'
```
–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
```
{
  "error": "Expression is not valid"
}
```
–°—Ç–∞—Ç—É—Å –∫–æ–¥: ```422```

### 4. –û—à–∏–±–∫–∞ 500: –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
–ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä —Å—Ç–∞–ª–∫–∏–≤–∞–µ—Ç—Å—è —Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –æ—à–∏–±–∫–æ–π, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ–±–ª–µ–º–æ–π –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∑–∞–ø—Ä–æ—Å–∞, –æ–Ω –≤–µ—Ä–Ω–µ—Ç –æ—à–∏–±–∫—É 500.
```
curl --location 'localhost/api/v1/calculate' \
--header 'Content-Type: application/json' \
--data '{
  "expression": "100/(2-2)"
}'
```
–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
```
{
  "error": "Internal server error"
}
```
–°—Ç–∞—Ç—É—Å –∫–æ–¥: ```500```

### 5. –û—à–∏–±–∫–∞ 422: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —á–∏—Å–ª–∞
–ï—Å–ª–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —á–∏—Å–ª–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ª–∏—à–Ω—é—é –∑–∞–ø—è—Ç—É—é, —Å–µ—Ä–≤–µ—Ä –≤–µ—Ä–Ω–µ—Ç –æ—à–∏–±–∫—É 422.
```
curl --location 'localhost/api/v1/calculate' \
--header 'Content-Type: application/json' \
--data '{
  "expression": "5.2.3+1"
}'
```
–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
```
{
  "error": "Expression is not valid"
}
```
–°—Ç–∞—Ç—É—Å –∫–æ–¥: ```422```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞. –î–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ –ø–µ–µ—Ä–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É GoCalcServer/pkg/rpn, –∏–ª–∏ –∂–µ —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã (–µ—Å–ª–∏ –≤—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ –ø–∞–ø–∫–µ GoCalcServer)
```
cd pkg/rpn
go test
```
2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞. –î–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É GoCalcServer/internal/backend –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ backend_test.go –∏–ª–∏ –∂–µ —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã (–µ—Å–ª–∏ –≤—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ –ø–∞–ø–∫–µ GoCalcServer
```
cd internal/backend
go test
```
------------------------------------------------------------------------------------
### UPD: –µ—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –∫–∞–∫–∏–µ-—Ç–æ –≤–æ–ø—Ä–æ—Å—ã –ø–æ api –∏–ª–∏ –ø–æ–∂–µ–ª–∞–Ω–∏—è –ø–∏—à–∏—Ç–µ –º–Ω–µ
–í—ã–ø–æ–ª–Ω–∏–ª tg: [@knvlvivn](https://t.me/knvlvivn)
